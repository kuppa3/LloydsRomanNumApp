# LloydsRomanNumApp

The program converts roman numerals into decimal numbers.
It renders a form (made through Jade) and makes a post request call to the API. 

The program takes care of all the possible scenarios as per the grammatical rules invoving Roman numbers.
All test cases are run through gulp task runner using Mocha & Chai framework.
Test case coverage is generated using gulp-istanbul.


## Getting Started

The project is available on following GitHub link:
https://github.com/kuppa3/LloydsRomanNumApp 

You can clone the project through following command:
git clone git@github.com:kuppa3/LloydsRomanNumApp.git



### Prerequisites

You shall require:
Node JS - version 8.x
Node Package Manager (npm) - version 5.6.0 or above
Browser (preferably Chrome)
Gulp
Git Bash

### Installing

The project can be installed through following steps:
1. Open git bash
2. git clone git@github.com:kuppa3/LloydsRomanNumApp.git
3. npm install
4. Run the application in either of of following three ways:

npm run dev
This shall run the application in dev mode.
It shall spawn the server, run all the unit test cases, 
generates the test-coverage report in reports folder,
close the server instance,
and then restart the server using nodemon.

npm run test
This shall spawn the server, run all the unit test cases,
generates the test-coverage report in reports folder
and closes the server instance.

npm run start
This shall spawn the server.


On local, the APIs can be accessed at:
http://localhost:3000/

Front End Form: opens default (http://localhost:3000/)
Backend API: POST http://localhost:3000/romanToDecimal
Body Param:
{
	"roman":"XX"
}

Intended output:
{
    "roman": "XX",
    "decimal": "20"
}

The App was generated by npm express-generator, and therefore carries its folder structure.
Thus, the default entry point to the app is www.

it can be run as:

node ./bin/www

## Running the tests

You can run the tests as:
npm run test

I have got 100% code coverage for the project.

--------------------|----------|----------|----------|----------|----------------|
File                |  % Stmts | % Branch |  % Funcs |  % Lines |Uncovered Lines |
--------------------|----------|----------|----------|----------|----------------|
 routes\            |      100 |      100 |      100 |      100 |                |
  index.js          |      100 |      100 |      100 |      100 |                |
  romanToDecimal.js |      100 |      100 |      100 |      100 |                |
--------------------|----------|----------|----------|----------|----------------|
All files           |      100 |      100 |      100 |      100 |                |
--------------------|----------|----------|----------|----------|----------------|


=============================== Coverage summary ===============================
Statements   : 100% ( 14/14 )
Branches     : 100% ( 2/2 )
Functions    : 100% ( 0/0 )
Lines        : 100% ( 14/14 )
================================================================================



### Break down into end to end tests

There are 26 unit test cases dividing into following categories:

1. Basic letter conversions (I, V, X, L, C, D, M)
2. Subtractive Roman Numerals (IV, IX, XL, XC, CD, CM)
3. Conversion of complex roman numerals with various scenarios,
4. Error scenarios: 
   a. No input
   b. unrecognised symbols
   c. V,L,D cannot be repeated
   d. I,X,C,M cannot be repeated more than 3 times
   e. Roman numerals are written in descending order
   f. Subtractive symbol cannot be placed at 2nd position to itself.

I have tried to cover all possible scenarios. 
Lastly, there is a test case to check server status.

You can check the code coverage in Reports folder.


### And coding style tests

ES6 has been used. 
I wanted to use async and await, but istanbul (used for code coverage) could not parse it.
Therefore, I had to switch back to promises.

## Deployment

I have built a pipeline to test code before deployment:

npm run dev

Or else, we can directly use:

node ./bin/www

Ideally, I would like to deply using PM2 or forever on server using technologies like ngnix, AWS etc.

## Built With

* [ExpressJS](https://expressjs.com/) - The node js used
* [Jade](http://jade-lang.com/) - Front End
* [GitHub](https://github.com/kuppa3/LloydsRomanNumApp) - Application page

## Contributing

This is for internal assessment for Lloys project.

## Versioning

[GitHub](https://github.com/kuppa3/LloydsRomanNumApp)

## Authors

* **Konark Uppal** - *Initial work* 


## License

This project is licensed under the ISC License (default).

## Acknowledgments

* Sapient


